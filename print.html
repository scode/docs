<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>scode/docs</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="hardware/index.html"><strong aria-hidden="true">2.</strong> Hardware</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hardware/thinkpad_t580_linux.html"><strong aria-hidden="true">2.1.</strong> ThinkPad T580 impressions (with Linux)</a></li><li class="chapter-item expanded "><a href="hardware/netgear_lb1120_google_fi.html"><strong aria-hidden="true">2.2.</strong> NETGEAR LB1120 (LTE modem) with Google Fi</a></li><li class="chapter-item expanded "><a href="hardware/roomba_s9_plus.html"><strong aria-hidden="true">2.3.</strong> Roomba S9+</a></li></ol></li><li class="chapter-item expanded "><a href="software/index.html"><strong aria-hidden="true">3.</strong> Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="software/chrome_remote_desktop_ubuntu.html"><strong aria-hidden="true">3.1.</strong> Setting up Chrome Remote Desktop on Ubuntu</a></li><li class="chapter-item expanded "><a href="software/chrome_tweaks.html"><strong aria-hidden="true">3.2.</strong> Chrome tweaks</a></li><li class="chapter-item expanded "><a href="software/rstquil.html"><strong aria-hidden="true">3.3.</strong> rstquil: reStructuredText (rst) + sphinx frustration relief</a></li></ol></li><li class="chapter-item expanded "><a href="reading/index.html"><strong aria-hidden="true">4.</strong> Reading lists</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="reading/jvm_gc.html"><strong aria-hidden="true">4.1.</strong> JVM garbage collection</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">scode/docs</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>This site contains various documentation-like notes that <a href="mailto:peter.schuller@infidyne.com">peter.schuller@infidyne.com</a>
decided to write down publicly for whatever reason.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hardware"><a class="header" href="#hardware">Hardware</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="thinkpad-t580-impressions-with-linux"><a class="header" href="#thinkpad-t580-impressions-with-linux">ThinkPad T580 impressions (with Linux)</a></h1>
<p>NOTE: This is not a review. These are various impressions after using it and
is not intended to be a complete review. In particular, don't assume
something works for me if I didn't specifically spell it out.</p>
<p>The following impressions are based on running Ubuntu on a dual-battery
T580 with Xorg and i3. The T580 only has the Intel graphics (on purpose
for Linux compatibility).</p>
<h2 id="changelog-significant-updates-only"><a class="header" href="#changelog-significant-updates-only">Changelog (significant updates only)</a></h2>
<ul>
<li>2019-11-09
<ul>
<li>Added note around resume not working w/ external mouse.</li>
</ul>
</li>
<li>2018-10-07
<ul>
<li>Noted upgrading to Ubuntu 18.04.</li>
<li>Updated trackpoint section with decision to use external
kb/mouse.</li>
</ul>
</li>
<li>2018-07-15
<ul>
<li>Added more comments on my experience with the trackpoint.</li>
</ul>
</li>
<li>2018-04-08
<ul>
<li>More information about the webcam.</li>
</ul>
</li>
<li>2018-04-07
<ul>
<li>Initial version, about 3 weeks or so after receiving the laptop.</li>
</ul>
</li>
</ul>
<h2 id="ubuntu-compatibility"><a class="header" href="#ubuntu-compatibility">Ubuntu compatibility</a></h2>
<p>This was originally written based on experience using Unbutu 17.10. As
of 2018-10-07 I have upgraded to upgraded to Ubuntu 18.04 and
preliminarily everything seems to work comparably. I tried booting the
18.04 live USB, but I have not performed an installation of 18.04 from
scratch.</p>
<h2 id="the-touchpad"><a class="header" href="#the-touchpad">The touchpad</a></h2>
<p>The touchpad is physically clickable <em>but</em> it appears to use a
&quot;hinged&quot; design, with the hinge being on top. In other words, clicking
the very bottom of the touchpad works fine and only requires a small
amonunt of force (and it differentiates between the left/right side to
simulate left/right mouse buttons).</p>
<p>The further up the touchpad you go, the harder you need to press to
generate a click. The implication is that as you move your hand around
while moving the cursor, it's a crapshoot as to what it feels like to
click the touchpad - and if you're far up enough you end up with a lot
of &quot;ugh the click didn't take&quot; situations.</p>
<p>My only explanation for this design is that the touchpad is not intended
to be a clickable touchpad in the sense you'd expect of a MacBook, but
rather that it is intended to behave as if you had dedicated buttons on
the bottom of the touchpad (the actual dedicated physical buttons are on
top).</p>
<p>That is not really how I want to use a touchpad. I pretty quickly
stopped trying to get used to it, and am instead trying to get used to
the trackpoint.</p>
<h2 id="trackpoint"><a class="header" href="#trackpoint">TrackPoint</a></h2>
<p>As mentioned above, the touchpad is not really to my taste. Therefore, I
used the trackpoint exclusively for the first few months of use.</p>
<p>I <em>did</em> get &quot;used&quot; to it in the sense that usage was natural to me.
However, I never became anywhere near as fast as I am with a Macbook
Touchpad, and I never shook the feeling of being &quot;restricted&quot; and
uncomfortable when needing to do something pointer heavy.</p>
<p>As a result I decided to get an external mouse and keyboard + the
docking station which I now use whenever I'm at my desk. I still use
the TrackPoint regularly and it remains servicable if not pleasant.</p>
<p>This topic is of course highly subjective and I know many people love
trackpoints. But the above is my experience, and figured I would share
it.</p>
<p>(As an aside, the <a href="https://smile.amazon.com/gp/product/B00UUBIM0E/ref=oh_aui_search_detailpage?ie=UTF8&amp;psc=1">CODE 87-Key Cherry MX
Brown</a>
has been a great keyboard for me. Note there are variants with other
Cherry MX switches. Also for some reason it is currently listed with an
insanely high price - not sure why; it was $145 when I got it).</p>
<h2 id="the-fact-that-the-keyboardtouchpad-isnt-centered"><a class="header" href="#the-fact-that-the-keyboardtouchpad-isnt-centered">The fact that the keyboard/touchpad isn't centered</a></h2>
<p>This definitely irks me a lot, but I'm <em>mostly</em> okay with it. It is
legit annoying, especially when using the laptop in my actual lap,
because of the balance is off but also because there isn't as good
support for my palm/arm on the left hand side as there is on the right
hand side.</p>
<p>I should note that this is my private laptop, and the nature of my use
is very different than my work laptop. In particular, I don't tend to
use it constantly for 12 hours or similar things, and I do worry what
would happen if I used it more intensively.</p>
<h2 id="noise"><a class="header" href="#noise">Noise</a></h2>
<p>Spinning a single CPU core for several seconds appears approximately
enough to cause the fan to run at a noticable volume. I don't really
mind for most cases since I have noise canceling headphones with music
in them most of the time. However, it would be enough that I think it
will bother me to use the T580 as the chrome casting source if watching
TV w/o headphones in the living room with the laptop next to me, for
example. (This assumes the browser is streaming video; i.e. use of
chrome cast with a non-supported site.)</p>
<p>I would not call it terribly loud, but noticeably so. I am generally not
super sensitive to noise compared to some folks, for whatever that is
worth in terms of calibration.</p>
<h2 id="keyboard"><a class="header" href="#keyboard">Keyboard</a></h2>
<p>As usual with Thinkpads, the keyboard is quite good even if not as good
as the classic Thinkpads of old. The primary &quot;annoyance&quot; for me
compared with what I've become used to with MacBooks is that the arrow
keys are small and stuffed in with other keys making them harder/more
risky to use.</p>
<p>This isn't a big deal for me since all my heavy duty keyboard use (text
editing) does not involve use of arrow keys, but it does affect certain
random things where I don't have other bindings.</p>
<h2 id="battery"><a class="header" href="#battery">Battery</a></h2>
<p>The large cylindrical battery (which is opt-in when you purchase the
laptop) sticks out from the laptop and acts as a &quot;foot&quot; for the
laptop - slightly elevating the back of it. I have no problem with this
myself, but I wanted to mention it in case some folks may prefer it
flush.</p>
<p>In terms of battery time, all these experiences based on using Linux and
i3; other operating systems, or potentially graphically heavy desktop
environments, may see different results.</p>
<p>With both batteries fully charged, it appears that sitting around idling
with the screen on and reasonably (but not maximally) bright, I can get
<em>around</em> 12 hours.</p>
<p>Playing a typical 1080p YouTube video (without video decoding
acceleration) it's <em>around</em> 5-6 hours.</p>
<p>These numbers are currently based on the battery estimate given to me by
<code>acpi</code>. I have not spent time measuring how correct they are, or down
full draining to confirm rate of reported discharge doesn't change.
That said, it feels roughly consistent with what I've experienced when
spending multiple hours off battery and keeping a casual eye on battery
levels.</p>
<h3 id="battery-problems-possibly-gone-with-bios-update"><a class="header" href="#battery-problems-possibly-gone-with-bios-update">Battery problems, possibly gone with BIOS update</a></h3>
<p>The behavior I observed at first was that the large cylindrical battery
would be drained first, followed by the smaller battery. This makes
sense, since one may want to use the built-in battery as the bridge to
allow a battery swap. Upon charging it would fill up the built-in
battery first, followed by the cylindrical.</p>
<p>I started observing some anomalies with respect to the wrong battery
draining, and the charging happening in the wrong order. Finally, I
ended up in a state where the built-in battery would just not charge,
even when drained all the way down to 37%.</p>
<p>After much ado, I got a USB CD drive and CDR discs, and did a BIOS
update using Lenovo's bootable CD (I had some trouble converting it
into a bootable USB stick). Sorry, I lost the exact bios version but
this was done early April or late Mars and using whatever was the latest
BIOS version at the time.</p>
<p>After the BIOS update, it successfully charged the smaller built-in
battery. However, after charging it fully (it was at like 99%), it kept
simmering on the built-in battery for I think even hours and I was
worried that it would never swap over and charge the larger battery.</p>
<p>I left it overnight and in the morning the larger battery was charged.</p>
<p>I have not exercised the battery a lot, and so lack further anecdotes.</p>
<h2 id="linux-compatibility-and-tweaks"><a class="header" href="#linux-compatibility-and-tweaks">Linux compatibility and tweaks</a></h2>
<p>I only briefly booted Windows for a few minutes, so I effectively only
have experience running Linux on this laptop.</p>
<h3 id="xorg-driver--avoiding-screen-tearing"><a class="header" href="#xorg-driver--avoiding-screen-tearing">xorg driver + avoiding screen tearing</a></h3>
<p>The <code>modesetting</code> driver appears to be picked by default by Xorg on this
laptop, and there is signficant screen tearing noticable when doing
simple things like scrolling a web page.</p>
<p>A solution is to force the <code>intel</code> driver to be used, <em>and</em> to enable
the <code>TearFree</code> option (I don't know what the trade-off is; presumably
there is <em>some</em> trade-off if it's not enabled by default).</p>
<p>In my case, I dropped the following into a file in
<code>/usr/share/X11/xorg.conf.d</code>:</p>
<pre><code>Section &quot;Device&quot;
      Identifier  &quot;card0&quot;
      Driver      &quot;intel&quot;
      Option      &quot;TearFree&quot; &quot;true&quot;
EndSection
</code></pre>
<h3 id="wayland"><a class="header" href="#wayland">Wayland</a></h3>
<p>My only use of wayland has been through the default Ubuntu desktop that
uses Wayland+XWayland. Seems to superficially work, but I spent as
little time as possible in this mode until I got my i3 environment
bootstrapped.</p>
<p>There was no particular problem with Wayland, and I may still try it
out. However, my priority was getting my environment set up rather than
playing with Wayland. I am hopeful Wayland will work well and that
<a href="https://github.com/swaywm/sway">sway</a> is a good i3 replacement - I just
don't know yet.</p>
<h3 id="suspendresume"><a class="header" href="#suspendresume">Suspend/resume</a></h3>
<p>I have one problem with suspend/resume: If I suspend the laptop while an
external mouse (USB) is connected, it won't resume again and I have to
reset it. I have not done any debugging of the issue.</p>
<p>Outside of that, suspend/resume has been fully reliable. Resume seems to
take maybe 2-3 seconds or so.</p>
<h3 id="bluetooth-audio"><a class="header" href="#bluetooth-audio">Bluetooth audio</a></h3>
<p>My use of Bluetooth audio is almost entirely for watching videos
(including YouTube) and listening to Audio (in Chrome).</p>
<p>My primary headset is the Bose QC35 (though I have briefly tried the
Avantree Audition as well).</p>
<p>I am using pulseaudio.</p>
<p>I have <em>not</em> tried the microphone; if you care about bluetooth audio
<em>input</em>, I can't help much.</p>
<p>The good news is that overall, Bluetooth works. I did not require any
tweaks w.r.t. bluetooth drivers or bluez etc (the standard <code>pair X</code>,
<code>connect X</code> works), but there are a few quirks/things to keep in mind.</p>
<ul>
<li>
<p>In order to put the headset into the appropriate mode to get high
quality audio, <code>pacmd set-card-profile N a2dp_sink</code> (whatever your
card <code>N</code> is). It appears to be defaulting into a headset profile
(where the mic theoretically works, but audio quality is horrible.)</p>
</li>
<li>
<p>Once (but only once so far), a <em>huge</em> amount of latency built up; it
was on the order of half a second to a second of delay. I &quot;fixed&quot;
it by restarting my headset.</p>
</li>
<li>
<p>During normal operation, latency is low enough that I don't
consciously notice anything annoying. That said, I should mention
that I haven't used this setup to watch a lot of human faces
speaking (though I have some).</p>
</li>
<li>
<p>Contrary to the behavior on macOS, the PulseAudio volume control
does not appear to affect the hardware volume of the headset. I did
not find a way to do this through software, but in the case of the
Bose QC35 there are physical buttons on the headset to control the
hardware volume. The significance of this is that software volume
above 100% will cause distortion, and so it is important that 100%
is sufficient volume. If you have a bluetooth headset without
physical volume buttons, <em>maybe</em> this could be a problem. I'm not
sure.</p>
</li>
<li>
<p>Most of the time, turning on the Bose headset after having resumed
the laptop will either (a) cause it to connect after a couple of
seconds, or (b) require me to turn the headset back off and back on
again and <em>then</em> connect after an additional couple of seconds.</p>
<p>I have had a few cases that required more attempts. Once I spent
almost 5 minutes restarting the headset, flipping <code>scan on/scan off</code>
and doing suspend/resumes until it finally started working.</p>
<p>So TLDR: As usual, Bluetooth pairing/connection is freaking
horrible. However, it has been a bit more horrible than I'm used to
with macOS, though not incredibly so. With macOS you have random
issues sometimes as well, but the biggest difference is that having
to turn the headset on and off an extra time seems to be the common
case right now. But at least it's mostly consistent.</p>
<p>I am not entirely sure what these issues are correlated with, and
whether e.g. suspend/resume cycles make it more likely.</p>
</li>
</ul>
<h3 id="battery-linux"><a class="header" href="#battery-linux">Battery</a></h3>
<p>It's worth nothing that two separate batteries could potentially
complicate matters from a UI perspective.</p>
<p>In my case, I mostly monitor the battery using <code>i3status</code> which will by
default aggregate all batteries in the system (configurable, though I
did not try it).</p>
<p>But, I mention this just in case the reader may anticipate any problems
resulting from the fact that there are multiple batteries exposed
logically through ACPI.</p>
<h3 id="accelerated-video-decoding"><a class="header" href="#accelerated-video-decoding">Accelerated video decoding</a></h3>
<p>Accelerated decoding in Chrome is disabled. I was not able to find a
fix.</p>
<h3 id="the-webcam"><a class="header" href="#the-webcam">The webcam</a></h3>
<p>Very limited testing indicates the webcam works.</p>
<p>One caveat is that Chrome appears to use the <em>infrafed</em> camera by
default (it shows up as <code>/dev/video0</code> with the visible light camera
being <code>/dev/video1</code>). If video capture results in a bunch of green
garbage this is likely what's going on. Chrome's setting for selecting
video device is under &quot;advanced&quot; settings, and under &quot;content&quot;
settings. You pick the device in the same place you managed permissions
to use the camera.</p>
<h3 id="misc-tweaks"><a class="header" href="#misc-tweaks">Misc tweaks</a></h3>
<p>I've done various tweaking to my environment since getting the laptop.
If interested you can check out
<a href="https://github.com/scode/dotfiles">scode/dotfiles</a> - in particular
<a href="https://github.com/scode/dotfiles/blob/master/dotfiles/i3status.conf">i3status.conf</a>,
my <a href="https://github.com/scode/dotfiles/blob/master/dotfiles/i3/config">i3
config</a>,
my <a href="https://github.com/scode/dotfiles/tree/master/dotfiles/xkb">keyboard
layout</a> and
my <a href="https://github.com/scode/dotfiles/blob/master/scode-overlay/backlight.py">backlight
script</a>
(note: requires permissions to write to
<code>/sys/class/backlight/intel_backlight/brightness</code> which needs automation
to surfive across reboots).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="netgear-lb1120-lte-modem-with-google-fi"><a class="header" href="#netgear-lb1120-lte-modem-with-google-fi">NETGEAR LB1120 (LTE modem) with Google Fi</a></h1>
<p>As of 2020-10-20, I was able to use the NETGEAR LB1120 with Google Fi,
with a data-only SIM. The SIM was previously used (as data-only) in a
phone, so there may have been some historical activation step that would
be required with a fresh SIM - not sure.</p>
<p>For reliable operation I had to use the APN settings <a href="https://support.google.com/fi/answer/6330195?hl=en">documented by
Google</a>:</p>
<ul>
<li>Name: <code>Google Fi</code></li>
<li>APN: <code>h2g2</code></li>
</ul>
<p>This is configured by heading to the admin interface of the device at
<code>http://192.168.5.1</code> (default password is on the label on the device).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roomba-s9"><a class="header" href="#roomba-s9">Roomba S9+</a></h1>
<p>NOTE: This is not a review. It is additional information that I was not able
to find prior to purchase.</p>
<h2 id="learning-behavior-and-room-labeling"><a class="header" href="#learning-behavior-and-room-labeling">Learning behavior and room labeling</a></h2>
<p>As advertised, the Roomba needs to learn your space before it will allow
you to map out different rooms and have it go to specific rooms to
clean. This can be more frustrating than first apparent, the more so the
larger your living space is. The following experience is for a living
space slightly over 2000 square feet.</p>
<p>First, be aware there is a dedicated mapping mode. The dedicated mapping
mode causes the roomba <em>not</em> to run the vacuum; instead it will just
navigate around the space. This is supposed to be a little faster than
vacuuming per documentation. However, unless your living space is small
enough for charging not to matter, the biggest difference lies in
avoiding charging. In our case, a mapping run of the entire apartment
took 6-8 hours, including one charging session. Had we attempted to let
it finish a normal &quot;clean all&quot; run it would have taken more than twice
as long just from charging, which would have meant more than reasonable
day and would have been untenable.</p>
<p>The Roomba is documented to require 2-3 complete runs before an initial
map is made, which allows you to begin labeling rooms and clean
individual rooms.</p>
<p>In our case, we suspect we encountered a bug on our first attempt -
possibly due to the first mapping run being cut short due to the Roomba
getting stuck while we were away and us not making it back in time to
avoid the Roomba cancelling the job entirely. After that partial run + 3
additional we still didn't get a map, and decided to have the roomba
forget the map entirely and restart from scratch. After we did, it
completed mapping in 2 mapping runs.</p>
<p>Be aware that the Roomba, when it encounters a problem such as beeing
stuck, requires human intervention within a certain amount of time (I
think it's like an hour and a half) before it automatically cancels the
job. This can prove difficult when your goal is to finish a complete run
end to end without cancellations, unless you're home for the entire
stretch of the run (6-8 hours in our case).</p>
<p>All in all it took us about a week of having the roomba run every day
for 6-8 hours w/o cleaning, before we finally had a map covering the
entire living space and we could start running actual vacuum runs.</p>
<h3 id="can-you-break-up-a-cleaning-run-or-does-it-have-to-finish-all-in-one-go"><a class="header" href="#can-you-break-up-a-cleaning-run-or-does-it-have-to-finish-all-in-one-go">Can you break up a cleaning run or does it have to finish all in one go?</a></h3>
<p>Documentation is silent on this matter, but my best estimate is that the
answer is <em>no</em>. At least not reliably. From what I can tell, if you
cancel a mapping run or a clean all run, it'll just start fresh as if
the prevous run didn't happen. There is evidence that it still stores
and remembers whatever it saw while it was out, but I have not seen any
evidence that it will &quot;resume where it left off&quot; in terms of
navigating the apartment.</p>
<h3 id="can-you-complete-initial-mapping-in-a-smaller-area-and-add-rooms-later"><a class="header" href="#can-you-complete-initial-mapping-in-a-smaller-area-and-add-rooms-later">Can you complete initial mapping in a smaller area and add rooms later?</a></h3>
<p>This would be great, as it would avoid needing to finish the entire area
in a single uninterrupted run multiple time. From what I can tell
though, this does not appear to be supported but I can't be sure. Let
me elaborate.</p>
<p>The documentation and other information online is a slittle conflicting,
with some accounts claiming it will keep learning after initial mapping
and others saying the opposite.</p>
<p>From observations, there is definitely <em>some</em> amount of learning that
goes on after initial mapping. For example, if upon mapping you had a
giant box in the middle of the room the Roomba might conclude there's a
wall/pillar there. After subsequent runs without the box, it will update
the map realizing that there is open space (but it may take multiple
runs). You can tell this is happening because the visualization of the
map in the app updates clearly showing changes like this.</p>
<p>However, I tried opening the door adjacent to a room already within the
mapped area. I would tell the roomba to clean the adjacent room, and I
was hoping it would find its way into said room and expand the map.
While it <em>did</em> enter the room a little (maybe 1-2 meters in and back),
it did not keep exploring the room in its entirety. The map also did not
expand to include that room. I speculate that there may be a limit to
how far the roomba is willing to go beyond its previously mapped area.
It's also possible it needs to encounter the new room multiple times
before concluding it exists and updating the map.</p>
<p>Because experimenting takes a <em>lot</em> of time, and as described we
suffered an entire week before finally getting our area mapped, I don't
have a lot of data to share here. It's possible that had I been patient
and repeated the process a few times, it would have eventually mapped
out the new space entirely - I can't know for sure.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="software"><a class="header" href="#software">Software</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setting-up-chrome-remote-desktop-on-ubuntu"><a class="header" href="#setting-up-chrome-remote-desktop-on-ubuntu">Setting up Chrome Remote Desktop on Ubuntu</a></h1>
<h2 id="updates"><a class="header" href="#updates">Updates</a></h2>
<p>I have been informed of two other solutions. Most recently, <a href="https://aur.archlinux.org/packages/chrome-remote-desktop/#comment-719586">this
comment</a>
appears to describe a better process more directly supported by Google.
In the past I was also pointed to <a href="https://askubuntu.com/questions/795703">this askubuntu
question</a> which appears to have
a better (shorter, headless) solution than what I describe here. I have
not personally tested either of these, but I recommend starting there.</p>
<p>This was written in September of 2015. Not sure whether it still
applies.</p>
<h2 id="sources"><a class="header" href="#sources">Sources</a></h2>
<p>The upstream documentation is a little bit scattered, not always
entirely complete, and the Ubuntu package provided needs some poking to
work. Hence this summary.</p>
<p>The two main sources of information I found are:</p>
<ul>
<li>An old product forum post:
<a href="https://productforums.google.com/forum/#!topic/chrome/8PMxG69VJ6o">https://productforums.google.com/forum/#!topic/chrome/8PMxG69VJ6o</a></li>
<li>This documentation (under &quot;Enable remote access to your
computer&quot;):
<a href="https://support.google.com/chrome/answer/1649523?hl=en">https://support.google.com/chrome/answer/1649523?hl=en</a></li>
</ul>
<h2 id="overview-of-how-remote-desktop-works"><a class="header" href="#overview-of-how-remote-desktop-works">Overview of how remote-desktop works</a></h2>
<p>The Linux version of chrome remote desktop (henceforth, CRD) doesn't
allow clients to connect and control an existing X session; rather,
there is a dedicated X session specific to CRD. This is similar to the
classic vncserver mechanic. When you connect, a session is started if
one is not already running. If it is running, you are connected to the
in-progress session.</p>
<p>Initial setup still requires a non-headless environment: A running
Chrome (until someone or Google makes a tool that generates the
necessary on-disk state in your home directory for authorizing remote
access).</p>
<p>Once set up however, CRD is completely headless and is controlled using
an init script. For example:</p>
<pre><code>sudo /etc/init.d/chrome-remote-desktop restart
</code></pre>
<p>It determines which users should have CRD running based on which users
are part of the <code>chrome-remote-desktop</code> Unix group.</p>
<h2 id="why-chrome-remote-desktop-instead-of-other_option"><a class="header" href="#why-chrome-remote-desktop-instead-of-other_option">Why Chrome Remote Desktop instead of <code>$OTHER_OPTION</code>?</a></h2>
<p>Mostly:</p>
<ul>
<li>It works natively on ChromeOS, and works well. It handles hi-dpi
displays correctly, and passes through keyboard combinations
correctly (e.g., it stops CTRL-N from opening a new local window).</li>
<li>It seems faster than any other remote desktop option I have tried. I
don't know technical details, but likely their use of some kind of
modified VP9 codec has to do with this. When originally writing this
I thought it was lossy and pixel perfect nonetheless, but I've been
informed it's not. At least it was good enough to fool me :)</li>
</ul>
<h2 id="setup-instructions"><a class="header" href="#setup-instructions">Setup instructions</a></h2>
<h3 id="install-the-package"><a class="header" href="#install-the-package">Install the package</a></h3>
<p>Download the package linked from
<a href="https://support.google.com/chrome/answer/1649523?hl=en">https://support.google.com/chrome/answer/1649523?hl=en</a> and install it:</p>
<pre><code>sudo dpkg -i chrome-remote-desktop_current_amd64.deb
sudo apt-get -f install
</code></pre>
<h3 id="prepare-the-chrome-remote-desktop-group"><a class="header" href="#prepare-the-chrome-remote-desktop-group">Prepare the chrome-remote-desktop group</a></h3>
<p>At the time of this writing, the package installer seems to fail to
create the <code>chrome-remote-desktop</code> group, so add it:</p>
<pre><code>sudo groupadd chrome-remote-desktop
</code></pre>
<p>You may need to add yourself to the group (unclear if this happens
correctly automatically):</p>
<pre><code>sudo usermod -a -G chrome-remote-desktop $USER
</code></pre>
<h3 id="set-up-the-desktop-session"><a class="header" href="#set-up-the-desktop-session">Set up the desktop session</a></h3>
<p>If <code>~/.chrome-remote-desktop-session</code> is missing or contains bad
information, the attempt to connect to the remote desktop will fail
without a clear cause. Example:</p>
<pre><code>#!/bin/bash

xterm &amp;
exec i3
</code></pre>
<p>Unconfirmed whether <code>chmod +x</code> is needed.</p>
<h3 id="set-up-your-desired-resolution-in-your-shell-profile"><a class="header" href="#set-up-your-desired-resolution-in-your-shell-profile">Set up your desired resolution in your shell profile</a></h3>
<p>Wherever your shell profile is, add an appropriate resolution selection:</p>
<pre><code>export CHROME_REMOTE_DESKTOP_DEFAULT_DESKTOP_SIZES=1024x768
</code></pre>
<h3 id="bootstrap-through-sshvnc"><a class="header" href="#bootstrap-through-sshvnc">Bootstrap through SSH+VNC</a></h3>
<p>On the server:</p>
<pre><code>sudo apt-get install vnc4server
vncpasswd
vncserver

# log in remotely and bootstrap chrome (see later)

vncserver -kill :1
</code></pre>
<p>On the client, log into the server using a VNC client over SSH
forwarding. I.e:</p>
<pre><code>ssh -L 5901:localhost:5901 username@remotehost
</code></pre>
<p>And run your preferred VNC client to connect to <code>localhost:5901</code>.</p>
<h3 id="enable-remote-connections-in-chrome"><a class="header" href="#enable-remote-connections-in-chrome">Enable remote connections in Chrome</a></h3>
<p>Start Chrome, install the &quot;Chrome Remote Desktop&quot; app, run it. Under
&quot;My Computers&quot;, hit &quot;Enable remote connections&quot;.</p>
<p>Hopefully it should succeed. After this, the session will automatically
start on boot thanks to the init script, and chrome will have directly
launched a session for you just now - so you should now be able to
connect through a CRD client.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chrome-tweaks"><a class="header" href="#chrome-tweaks">Chrome tweaks</a></h1>
<h2 id="more-aggressive-relaunch-prompting-for-updates"><a class="header" href="#more-aggressive-relaunch-prompting-for-updates">More aggressive relaunch prompting for updates</a></h2>
<p>TLDR:</p>
<pre><code>defaults write com.google.Chrome RelaunchNotification -int 1
</code></pre>
<p>This appears to work - triggering an actual pop-up and requiring restart
within a few days, thus making it harder to accidentally just forget to
restart your browser. However, I don't know how to make it more
aggressive. At first I wasn't convinced it worked, probabably because I
did not wait long enough for the pop-up to appear after the update badge
changed color. I eventually forgot about it and finally did get the
pop-up a few weeks later after another update.</p>
<p>More info:</p>
<ul>
<li><a href="https://cloud.google.com/docs/chrome-enterprise/policies/?policy=RelaunchNotification">https://cloud.google.com/docs/chrome-enterprise/policies/?policy=RelaunchNotification</a></li>
<li><a href="https://www.alansiu.net/2019/11/24/forcing-updates-to-google-chrome-using-chrome-preferences-a-chrome-profile/">https://www.alansiu.net/2019/11/24/forcing-updates-to-google-chrome-using-chrome-preferences-a-chrome-profile/</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rstquil-restructuredtext-rst--sphinx-frustration-relief"><a class="header" href="#rstquil-restructuredtext-rst--sphinx-frustration-relief">rstquil: reStructuredText (rst) + sphinx frustration relief</a></h1>
<p>So you're considering, or even being asked to, adopt
<a href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> and
<a href="http://www.sphinx-doc.org/">Sphinx</a> for your documentation needs.
You've done a ton of markdown or possibly asciidoc in the past, but
every time you try to use reStructuredText for <strong>real</strong>, something
non-trivial, it instantly becomes painful to get it to do what you want
and you spend unreasonable amounts of time googling around. This is for
you.</p>
<p>Or... so I hope. This is what <em>I</em> would have wanted, based on what <em>I</em>
consider to be the &quot;obviously immediately important&quot; things I care
about when writing documentation. Other people's definition of what is
&quot;obviously immediately important&quot; may differ, or their points of
frustration may differ, but this is my best attempt at easing adoption
for people with similar biases to myself.</p>
<p>My relevant background is writing technical documentation aimed at other
software developers in a large organization, and so my needs are heavily
based on this. Further, while I write a lot of documentation for a
typical developer, it's not the <em>only thing that I do</em>. Part of the
frustration of adoption originally was that I would figure something
out, and then just about forget it again before the next time I sat down
and did similar things.</p>
<p>Some of the terminology here is not formally correct with respect to the
<a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html">reStructuredText
spec</a>,
but rather intended to convey meaning for someone with reasonable
markup/asciidoc experience (sometimes it may also be because I felt it
was unclear what correct terminology is).</p>
<p>Finally, this is <em>not</em> meant to be a complete replacement for other
documentation. Rather, it's selectively picking a few topics that I
believe to be extra important and/or extra likely to cause frustration.</p>
<p>Suggestions/feedback? Feel free to <a href="https://github.com/scode/docs/issues">file a github
issue</a>, open a pull request <a href="https://github.com/scode/docs">on
github</a>, or just email me at
<code>peter.schuller@infidyne.com</code><sup class="footnote-reference"><a href="#1">1</a></sup>.</p>
<h2 id="inline-literals"><a class="header" href="#inline-literals">Inline literals</a></h2>
<p>Use <em>double</em> backticks:</p>
<pre><code class="language-rst">Let me tell you about the ``cool_function`` function!
</code></pre>
<p>A single backtick, like you're used to, may superficially appear to do
what you want based on rendered output, but <em>actually</em> is for
<a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#interpreted-text">interpreted
text</a>
which is different.</p>
<h2 id="code-blocks--multi-line-literals"><a class="header" href="#code-blocks--multi-line-literals">Code blocks / multi-line literals</a></h2>
<p>The simplest way is to end your previous paragraph with a double-colon
(and don't forget empty lines for paragraph separation):</p>
<pre><code class="language-rst">Here's an example of foo::

    # example of foo here
    # continued example of foo

And this is the next paragraph of text.
</code></pre>
<p>The is actually taking advantage of a convenience feature in
reStructuredText. The above code-block is equivalent to <em>both</em> of these:</p>
<pre><code class="language-rst">Here's an example of foo: ::

    # example of foo here
    # continued example of foo

And this is the next paragraph of text.
</code></pre>
<pre><code class="language-rst">Here's an example of foo:

::

    # example of foo here
    # continued example of foo

And this is the next paragraph of text.
</code></pre>
<p>See the <a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#literal-blocks">literal blocks
section</a>
of the spec for more.</p>
<p>The biggest disadvantage of the form is that it does not allow you to
specify the language contained in the block of text - which you may want
to do, for example to enable syntax highlighting. You may therefor use
this form instead (which appears to be Sphinx specific):</p>
<pre><code class="language-rst">Here is an example snippet of Python:

.. code-block:: python

    print('Hello world!')

In the above example, we ...
</code></pre>
<p>See <a href="http://www.sphinx-doc.org/en/stable/markup/code.html">showing code
examples</a> in the
Sphinx docs for more.</p>
<h2 id="linking-to-urls"><a class="header" href="#linking-to-urls">Linking to URLs</a></h2>
<p>NOTE: This is for linking to arbitrary URLs. For linking internally in your
documentation (such as between sections), please see the cross reference section
later on.</p>
<p>The short story is to always use the following form unless you
specifically know what you're doing (note the use of <em>two</em> underscores
at the end, not just one):</p>
<pre><code class="language-rst">`link text &lt;link-url&gt;`__
</code></pre>
<p>For example:</p>
<pre><code class="language-rst">Please make sure you foo the bar (such as
in `this example &lt;https://github.com/scode/docs/blob/master/README.md&gt;`__).
</code></pre>
<p>Use of a single underscore (instead of two) will create a <em>named</em>
hyperlink target. This may appear to work, but you'll find that you
start generating warnings over time when you have multiple links with
the same link text (even if they have different target URLs).</p>
<p>The seemingly primary use of the <em>single</em> underscore form seems to be to
allow you to specify the link target separately from the inline text.
For example:</p>
<pre><code class="language-rst">If you want you can look at the `project README`_.

bla bla...

.. _project README: https://github.com/scode/docs/blob/master/README.md
</code></pre>
<p>See <a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#hyperlink-targets">the hyperlink targets
section</a>
of the spec for more information.</p>
<h2 id="bulleted-lists"><a class="header" href="#bulleted-lists">Bulleted lists</a></h2>
<p>First, a rule of thumb: Always keep an empty line between items in a
bulleted or numbered list. I cannot tell you what the rules are here,
but I can tell you it will avoid a ton of frustration trying to
understand why something isn't interpreted the way you want. It's
unfortunate because it is a strain on the eyes when reading the rst
source, but I would advice sticking to this rule until you feel like you
want to really figure out and understand restructured text and are
prepared to deal with the problems when they arise.</p>
<p>Second, continuation of an item happens by starting the next line at the
same column position as the previous line, <em>not</em> counting the list
markup. The example below illustrates.</p>
<pre><code class="language-rst">#. Foo, which requires a very long
   explanation. Notice the indentation of these
   lines ensuring that these sentences are all part of the
   same item in the list.

   #. Subfoo 1. Notice the alignment of the hash with the parent item's body.

   #. Subfoo 2.

#. Bar
</code></pre>
<p>Bulleted lists are exactly the same in terms of indentation and such,
but use <code>*</code> (and others) instead of hashes:</p>
<pre><code class="language-rst">* Foo, which requires a very long
  explanation. Notice the indentation of these
  lines ensuring that these sentences are all part of the
  same item in the list.

  * Subfoo 1. Notice the alignment of the hash with the parent item's body.

  * Subfoo 2.

* Bar
</code></pre>
<p>For more, see <a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#enumerated-lists">enumerated
lists</a>
and <a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#bullet-lists">bullet
lists</a>
in the spec.</p>
<h2 id="rst-cross-references"><a class="header" href="#rst-cross-references">Cross reference best practices</a></h2>
<p>One of the very enticing benefits of using Sphinx is that of stable
cross references that do not break when things move around or sections
are re-named - provided that best practices are followed (there is also
support for cross references across projects through
<a href="http://www.sphinx-doc.org/en/master/ext/intersphinx.html">intersphinx</a>
but I have not used it so am not covering it here).</p>
<p>Let's assume we have a document with a section on eating apples, and it
has a label defined (<code>eating-apples</code>) for the section:</p>
<pre><code class="language-rst">.. _eating-apples:

Eating apples
-------------
</code></pre>
<p>We can now link to it from anywhere in our documentation project like
this:</p>
<pre><code class="language-rst">See :ref:`eating-apples` for more information.

See :ref:`the later section on apples &lt;eating-apples&gt;` for more information.
</code></pre>
<p>Note how the label is specified with a leading underscore but is
referred to without it.</p>
<p>In the former case, the name of the section itself will be used in the
rendered text. This is not always appropriate because the context of the
link is different than the context of the section heading itself, so you
may want to refer to the section by a different name - hence the second
form.</p>
<p>The key to get the benefit here is to <em>explicitly</em> define all labels
that you ever link to. By default, sections will receive an implicit
label based on their name, but the problem with using those include:</p>
<ul>
<li>Links break when section names are tweaked, which defeats a big part
of the purpose of using cross references.</li>
<li>A section without an explicit label fails to signal to the person
editing the file containing that section, that someone may be
linking to the label.</li>
</ul>
<p>For this reason, I strongly recommend always explicitly labeling
sections when you decide to link to them. When editing existing
documentation, you should also assume that explicit labels may be linked
to and take care to preserve them. It's an indicator that someone cared
about it enough to put a label there, and there's probably a link to it
somewhere.</p>
<p>(The previous guidance will obviously not work if you don't have the
ability to modify the documentation you're linking <em>to</em>. I don't know
if there's a solution to that problem.)</p>
<p>Though I mentioned sections above, labels can be used anywhere and not
just in front of sections. For example:</p>
<pre><code class="language-rst">Roses are red and violates are blue, here's a code snippet:

.. _hello-world-snippet:

.. code-block:: python

    print('Hello!')
</code></pre>
<h2 id="footnotes"><a class="header" href="#footnotes">Footnotes</a></h2>
<p>The following example demonstrates the use of a named footnote.</p>
<pre><code class="language-rst">I love eating fruits [#not-all-fruits]_.

.. [#not-all-fruits] Well, most of them.
</code></pre>
<p>In particular, note the white space preceding the <code>[</code> when referencing
the footnote. This is required.</p>
<p>For more information, see
<a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#footnotes">footnotes</a>
in the rst spec, and the
<a href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">basics</a>
in the sphinx docs.</p>
<h2 id="semi-automated-conversion-from-markdown-to-rst"><a class="header" href="#semi-automated-conversion-from-markdown-to-rst">Semi-automated conversion from markdown to rst</a></h2>
<p>I've found <a href="https://pandoc.org/">pandoc</a> to be quite useful. It will
<em>not</em> be perfect, but it will take care of most of the simple stuff and
after the automated conversion you go through and perform manual
fix-ups. Once you've got it installed:</p>
<pre><code class="language-bash">pandoc -f markdown -t rst &lt; file.md &gt; file.rst
</code></pre>
<p>Then edit as appropriate.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>This would be a link, except I have not been able to figure out
how to make a <code>mailto:</code> link in which the <code>@</code> sign is not URL
encoded in the output. Know how to fix that? I'll add it to this
guide :)</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reading-lists"><a class="header" href="#reading-lists">Reading lists</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jvm-garbage-collection"><a class="header" href="#jvm-garbage-collection">JVM garbage collection</a></h1>
<ul>
<li><a href="https://people.cs.umass.edu/~emery/memory/papers/wils94/paper.pdf">Uniprocessor Garbage Collection
Techniques</a>
is a good introduction to some core theoretical concepts. This is
the paper I read many many years ago and originally helped me become
interested in garbage collection.</li>
<li><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.5.2665&amp;rep=rep1&amp;type=pdf">A Generational Mostly-concurrent Garbage
Collector</a>
is what I think of as &quot;the CMS&quot; paper. It describes the CMS
(concurrent mark/sweep) collector in HotSpot. For many ears this was
the best option for trying to achieve low latency. It's a
non-copying non-compacting old generation collector.</li>
<li><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.63.6386&amp;rep=rep1&amp;type=pdf">Garbage-First Garbage
Collection</a>
is &quot;the G1&quot; paper. G1 is a newer garbage collector than CMS. This
time, it is responsible for both the young generation and the old
generation and it's a copying and compacting collector.</li>
<li>Azul collectors (these apply to Azul's JVM which AFAIK has never
been freely available).
<ul>
<li><a href="https://www.usenix.org/legacy/events/vee05/full_papers/p46-click.pdf">The Pauseless GC
Algorithm</a>
describes the theory behing the C4 garbage collector used in the
Azul JVMs.</li>
<li><a href="https://www.azul.com/files/c4_paper_acm2.pdf">C4: The Continuously Concurrent Compacting
Collector</a> is a
follow-up paper on the previous one, going into a lot more
implementation detail.</li>
</ul>
</li>
<li>Current (2018) &quot;state of the art&quot; with respect to GC in freely
available HotSpot are
<a href="https://wiki.openjdk.java.net/display/zgc/Main">zgc</a> and
<a href="https://wiki.openjdk.java.net/display/shenandoah/Main">shenandoah</a>.</li>
</ul>
<p>Relatedly, you may be interested in
<a href="https://github.com/scode/lrugctest">scode/lrugctest</a> which is designed
to stress a garbage collector using a very simple simulation of a
worst-case (for the GC) LRU cache. As of mid 2018, zgc and shenandoah
are the only freely available HotSpot GCs that are capable of low (&lt; 10
ms) pause times under that workload.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
