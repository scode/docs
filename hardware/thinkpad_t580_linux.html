
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThinkPad T580 impressions (with Linux) &#8212; scode/docs  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Software" href="../software/index.html" />
    <link rel="prev" title="Hardware" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="thinkpad-t580-impressions-with-linux">
<h1>ThinkPad T580 impressions (with Linux)<a class="headerlink" href="#thinkpad-t580-impressions-with-linux" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is not a review.
These are various impressions after using it and is not intended to be a complete review. In
particular, don’t assume something works for me if I didn’t specifically spell it out.</p>
</div>
<p>The following impressions are based on running Ubuntu on a
dual-battery T580 with Xorg and i3. The T580 only has
the Intel graphics (on purpose for Linux compatibility).</p>
<div class="section" id="changelog-significant-updates-only">
<h2>Changelog (significant updates only)<a class="headerlink" href="#changelog-significant-updates-only" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>2019-11-09</p>
<ul>
<li><p>Added note around resume not working w/ external mouse.</p></li>
</ul>
</li>
<li><p>2018-10-07</p>
<ul>
<li><p>Noted upgrading to Ubuntu 18.04.</p></li>
<li><p>Updated trackpoint section with decision to use external kb/mouse.</p></li>
</ul>
</li>
<li><p>2018-07-15</p>
<ul>
<li><p>Added more comments on my experience with the trackpoint.</p></li>
</ul>
</li>
<li><p>2018-04-08</p>
<ul>
<li><p>More information about the webcam.</p></li>
</ul>
</li>
<li><p>2018-04-07</p>
<ul>
<li><p>Initial version, about 3 weeks or so after receiving the laptop.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="ubuntu-compatibility">
<h2>Ubuntu compatibility<a class="headerlink" href="#ubuntu-compatibility" title="Permalink to this headline">¶</a></h2>
<p>This was originally written based on experience using Unbutu 17.10. As
of 2018-10-07 I have upgraded to upgraded to Ubuntu 18.04 and preliminarily
everything seems to work comparably. I tried booting the 18.04 live USB, but
I have not performed an installation of 18.04 from scratch.</p>
</div>
<div class="section" id="the-touchpad">
<h2>The touchpad<a class="headerlink" href="#the-touchpad" title="Permalink to this headline">¶</a></h2>
<p>The touchpad is physically clickable <em>but</em> it appears to use a
“hinged” design, with the hinge being on top. In other words, clicking
the very bottom of the touchpad works fine and only requires a small
amonunt of force (and it differentiates between the left/right side to
simulate left/right mouse buttons).</p>
<p>The further up the touchpad you go, the harder you need to press to
generate a click. The implication is that as you move your hand
around while moving the cursor, it’s a crapshoot as to what it feels
like to click the touchpad - and if you’re far up enough you end up
with a lot of “ugh the click didn’t take” situations.</p>
<p>My only explanation for this design is that the touchpad is not
intended to be a clickable touchpad in the sense you’d expect of a
MacBook, but rather that it is intended to behave as if you had
dedicated buttons on the bottom of the touchpad (the actual dedicated
physical buttons are on top).</p>
<p>That is not really how I want to use a touchpad. I pretty quickly
stopped trying to get used to it, and am instead trying to get used to
the trackpoint.</p>
</div>
<div class="section" id="trackpoint">
<h2>TrackPoint<a class="headerlink" href="#trackpoint" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, the touchpad is not really to my taste. Therefore, I
used the trackpoint exclusively for the first few months of use.</p>
<p>I <em>did</em> get “used” to it in the sense that usage was natural to me. However,
I never became anywhere near as fast as I am with a Macbook Touchpad, and I
never shook the feeling of being “restricted” and uncomfortable when needing
to do something pointer heavy.</p>
<p>As a result I decided to get an external mouse and keyboard + the docking
station which I now use whenever I’m at my desk. I still use the TrackPoint
regularly and it remains servicable if not pleasant.</p>
<p>This topic is of course highly subjective and I know many people love
trackpoints. But the above is my experience, and figured I would share it.</p>
<p>(As an aside, the <a class="reference external" href="https://smile.amazon.com/gp/product/B00UUBIM0E/ref=oh_aui_search_detailpage?ie=UTF8&amp;psc=1">CODE 87-Key Cherry MX Brown</a>
has been a great keyboard for me. Note there are variants with other Cherry MX switches.
Also for some reason it is currently listed with an insanely high price - not sure
why; it was $145 when I got it).</p>
</div>
<div class="section" id="the-fact-that-the-keyboard-touchpad-isn-t-centered">
<h2>The fact that the keyboard/touchpad isn’t centered<a class="headerlink" href="#the-fact-that-the-keyboard-touchpad-isn-t-centered" title="Permalink to this headline">¶</a></h2>
<p>This definitely irks me a lot, but I’m <em>mostly</em> okay with it. It is
legit annoying, especially when using the laptop in my actual lap,
because of the balance is off but also because there isn’t as good
support for my palm/arm on the left hand side as there is on the right
hand side.</p>
<p>I should note that this is my private laptop, and the nature of my use
is very different than my work laptop. In particular, I don’t tend to
use it constantly for 12 hours or similar things, and I do worry what
would happen if I used it more intensively.</p>
</div>
<div class="section" id="noise">
<h2>Noise<a class="headerlink" href="#noise" title="Permalink to this headline">¶</a></h2>
<p>Spinning a single CPU core for several seconds appears approximately
enough to cause the fan to run at a noticable volume. I don’t really
mind for most cases since I have noise canceling headphones with
music in them most of the time. However, it would be enough that I
think it will bother me to use the T580 as the chrome casting source if
watching TV w/o headphones in the living room with the laptop next to
me, for example. (This assumes the browser is streaming video;
i.e. use of chrome cast with a non-supported site.)</p>
<p>I would not call it terribly loud, but noticeably so. I am generally
not super sensitive to noise compared to some folks, for whatever that
is worth in terms of calibration.</p>
</div>
<div class="section" id="keyboard">
<h2>Keyboard<a class="headerlink" href="#keyboard" title="Permalink to this headline">¶</a></h2>
<p>As usual with Thinkpads, the keyboard is quite good even if not as
good as the classic Thinkpads of old. The primary “annoyance” for me
compared with what I’ve become used to with MacBooks is that the arrow
keys are small and stuffed in with other keys making them harder/more
risky to use.</p>
<p>This isn’t a big deal for me since all my heavy duty keyboard use
(text editing) does not involve use of arrow keys, but it does affect
certain random things where I don’t have other bindings.</p>
</div>
<div class="section" id="battery">
<h2>Battery<a class="headerlink" href="#battery" title="Permalink to this headline">¶</a></h2>
<p>The large cylindrical battery (which is opt-in when you purchase the
laptop) sticks out from the laptop and acts as a “foot” for the
laptop - slightly elevating the back of it. I have no problem with
this myself, but I wanted to mention it in case some folks may prefer
it flush.</p>
<p>In terms of battery time, all these experiences based on using Linux
and i3; other operating systems, or potentially graphically heavy
desktop environments, may see different results.</p>
<p>With both batteries fully charged, it appears that sitting around
idling with the screen on and reasonably (but not maximally) bright, I
can get <em>around</em> 12 hours.</p>
<p>Playing a typical 1080p YouTube video (without video decoding
acceleration) it’s <em>around</em> 5-6 hours.</p>
<p>These numbers are currently based on the battery estimate given to me
by <code class="docutils literal notranslate"><span class="pre">acpi</span></code>. I have not spent time measuring how correct they are, or
down full draining to confirm rate of reported discharge doesn’t
change. That said, it feels roughly consistent with what I’ve
experienced when spending multiple hours off battery and keeping a
casual eye on battery levels.</p>
<div class="section" id="battery-problems-possibly-gone-with-bios-update">
<h3>Battery problems, possibly gone with BIOS update<a class="headerlink" href="#battery-problems-possibly-gone-with-bios-update" title="Permalink to this headline">¶</a></h3>
<p>The behavior I observed at first was that the large cylindrical
battery would be drained first, followed by the smaller battery. This
makes sense, since one may want to use the built-in battery as the
bridge to allow a battery swap. Upon charging it would fill up the
built-in battery first, followed by the cylindrical.</p>
<p>I started observing some anomalies with respect to the wrong battery
draining, and the charging happening in the wrong order. Finally, I
ended up in a state where the built-in battery would just not charge,
even when drained all the way down to 37%.</p>
<p>After much ado, I got a USB CD drive and CDR discs, and did a BIOS
update using Lenovo’s bootable CD (I had some trouble converting it
into a bootable USB stick). Sorry, I lost the exact bios version but
this was done early April or late Mars and using whatever was the
latest BIOS version at the time.</p>
<p>After the BIOS update, it successfully charged the smaller built-in
battery. However, after charging it fully (it was at like 99%), it
kept simmering on the built-in battery for I think even hours and I
was worried that it would never swap over and charge the larger
battery.</p>
<p>I left it overnight and in the morning the larger battery was charged.</p>
<p>I have not exercised the battery a lot, and so lack further anecdotes.</p>
</div>
</div>
<div class="section" id="linux-compatibility-and-tweaks">
<h2>Linux compatibility and tweaks<a class="headerlink" href="#linux-compatibility-and-tweaks" title="Permalink to this headline">¶</a></h2>
<p>I only briefly booted Windows for a few minutes, so I effectively only
have experience running Linux on this laptop.</p>
<div class="section" id="xorg-driver-avoiding-screen-tearing">
<h3>xorg driver + avoiding screen tearing<a class="headerlink" href="#xorg-driver-avoiding-screen-tearing" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">modesetting</span></code> driver appears to be picked by default by Xorg on this
laptop, and there is signficant screen tearing noticable when doing
simple things like scrolling a web page.</p>
<p>A solution is to force the <code class="docutils literal notranslate"><span class="pre">intel</span></code> driver to be used, <em>and</em> to
enable the <code class="docutils literal notranslate"><span class="pre">TearFree</span></code> option (I don’t know what the trade-off is;
presumably there is <em>some</em> trade-off if it’s not enabled by default).</p>
<p>In my case, I dropped the following into a file in <code class="docutils literal notranslate"><span class="pre">/usr/share/X11/xorg.conf.d</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Section</span> <span class="s2">&quot;Device&quot;</span>
      <span class="n">Identifier</span>  <span class="s2">&quot;card0&quot;</span>
      <span class="n">Driver</span>      <span class="s2">&quot;intel&quot;</span>
      <span class="n">Option</span>      <span class="s2">&quot;TearFree&quot;</span> <span class="s2">&quot;true&quot;</span>
<span class="n">EndSection</span>
</pre></div>
</div>
</div>
<div class="section" id="wayland">
<h3>Wayland<a class="headerlink" href="#wayland" title="Permalink to this headline">¶</a></h3>
<p>My only use of wayland has been through the default Ubuntu desktop
that uses Wayland+XWayland. Seems to superficially work, but I spent
as little time as possible in this mode until I got my i3 environment
bootstrapped.</p>
<p>There was no particular problem with Wayland, and I may still try it
out. However, my priority was getting my environment set up rather
than playing with Wayland. I am hopeful Wayland will work well and
that <a class="reference external" href="https://github.com/swaywm/sway">sway</a> is a good i3
replacement - I just don’t know yet.</p>
</div>
<div class="section" id="suspend-resume">
<h3>Suspend/resume<a class="headerlink" href="#suspend-resume" title="Permalink to this headline">¶</a></h3>
<p>I have one problem with suspend/resume: If I suspend the laptop while
an external mouse (USB) is connected, it won’t resume again and I have
to reset it. I have not done any debugging of the issue.</p>
<p>Outside of that, suspend/resume has been fully reliable. Resume seems
to take maybe 2-3 seconds or so.</p>
</div>
<div class="section" id="bluetooth-audio">
<h3>Bluetooth audio<a class="headerlink" href="#bluetooth-audio" title="Permalink to this headline">¶</a></h3>
<p>My use of Bluetooth audio is almost entirely for watching videos
(including YouTube) and listening to Audio (in Chrome).</p>
<p>My primary headset is the Bose QC35 (though I have briefly tried the
Avantree Audition as well).</p>
<p>I am using pulseaudio.</p>
<p>I have <em>not</em> tried the microphone; if you care about bluetooth audio
<em>input</em>, I can’t help much.</p>
<p>The good news is that overall, Bluetooth works. I did not require any
tweaks w.r.t. bluetooth drivers or bluez etc (the standard <code class="docutils literal notranslate"><span class="pre">pair</span> <span class="pre">X</span></code>,
<code class="docutils literal notranslate"><span class="pre">connect</span> <span class="pre">X</span></code> works), but there are a few quirks/things to keep in
mind.</p>
<ul>
<li><p>In order to put the headset into the appropriate mode to get high
quality audio, <code class="docutils literal notranslate"><span class="pre">pacmd</span> <span class="pre">set-card-profile</span> <span class="pre">N</span> <span class="pre">a2dp_sink</span></code> (whatever your
card <code class="docutils literal notranslate"><span class="pre">N</span></code> is). It appears to be defaulting into a headset
profile (where the mic theoretically works, but audio quality is
horrible.)</p></li>
<li><p>Once (but only once so far), a <em>huge</em> amount of latency built up; it
was on the order of half a second to a second of delay. I “fixed” it
by restarting my headset.</p></li>
<li><p>During normal operation, latency is low enough that I don’t
consciously notice anything annoying. That said, I should mention
that I haven’t used this setup to watch a lot of human faces
speaking (though I have some).</p></li>
<li><p>Contrary to the behavior on macOS, the PulseAudio volume control
does not appear to affect the hardware volume of the headset. I did
not find a way to do this through software, but in the case of the
Bose QC35 there are physical buttons on the headset to control the
hardware volume. The significance of this is that software volume
above 100% will cause distortion, and so it is important that 100%
is sufficient volume. If you have a bluetooth headset without
physical volume buttons, <em>maybe</em> this could be a problem. I’m not
sure.</p></li>
<li><p>Most of the time, turning on the Bose headset after having resumed
the laptop will either (a) cause it to connect after a couple of
seconds, or (b) require me to turn the headset back off and back on
again and <em>then</em> connect after an additional couple of seconds.</p>
<p>I have had a few cases that required more attempts. Once I spent
almost 5 minutes restarting the headset, flipping <code class="docutils literal notranslate"><span class="pre">scan</span> <span class="pre">on/scan</span>
<span class="pre">off</span></code> and doing suspend/resumes until it finally started working.</p>
<p>So TLDR: As usual, Bluetooth pairing/connection is freaking
horrible. However, it has been a bit more horrible than I’m used to
with macOS, though not incredibly so. With macOS you have random
issues sometimes as well, but the biggest difference is that having
to turn the headset on and off an extra time seems to be the common
case right now. But at least it’s mostly consistent.</p>
<p>I am not entirely sure what these issues are correlated with, and
whether e.g. suspend/resume cycles make it more likely.</p>
</li>
</ul>
</div>
<div class="section" id="id1">
<h3>Battery<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>It’s worth nothing that two separate batteries could potentially
complicate matters from a UI perspective.</p>
<p>In my case, I mostly monitor the battery using <code class="docutils literal notranslate"><span class="pre">i3status</span></code> which will
by default aggregate all batteries in the system (configurable, though
I did not try it).</p>
<p>But, I mention this just in case the reader may anticipate any
problems resulting from the fact that there are multiple batteries
exposed logically through ACPI.</p>
</div>
<div class="section" id="accelerated-video-decoding">
<h3>Accelerated video decoding<a class="headerlink" href="#accelerated-video-decoding" title="Permalink to this headline">¶</a></h3>
<p>Accelerated decoding in Chrome is disabled. I was not able to find a
fix.</p>
</div>
<div class="section" id="the-webcam">
<h3>The webcam<a class="headerlink" href="#the-webcam" title="Permalink to this headline">¶</a></h3>
<p>Very limited testing indicates the webcam works.</p>
<p>One caveat is that Chrome appears to use the <em>infrafed</em> camera by
default (it shows up as <code class="docutils literal notranslate"><span class="pre">/dev/video0</span></code> with the visible light camera
being <code class="docutils literal notranslate"><span class="pre">/dev/video1</span></code>). If video capture results in a bunch of green
garbage this is likely what’s going on. Chrome’s setting for selecting
video device is under “advanced” settings, and under “content”
settings.  You pick the device in the same place you managed
permissions to use the camera.</p>
</div>
<div class="section" id="misc-tweaks">
<h3>Misc tweaks<a class="headerlink" href="#misc-tweaks" title="Permalink to this headline">¶</a></h3>
<p>I’ve done various tweaking to my environment since getting the
laptop. If interested you can check out <a class="reference external" href="https://github.com/scode/dotfiles">scode/dotfiles</a> - in particular <a class="reference external" href="https://github.com/scode/dotfiles/blob/master/dotfiles/i3status.conf">i3status.conf</a>,
my <a class="reference external" href="https://github.com/scode/dotfiles/blob/master/dotfiles/i3/config">i3 config</a>,
my <a class="reference external" href="https://github.com/scode/dotfiles/tree/master/dotfiles/xkb">keyboard layout</a> and my
<a class="reference external" href="https://github.com/scode/dotfiles/blob/master/scode-overlay/backlight.py">backlight script</a>
(note: requires permissions to write to
<code class="docutils literal notranslate"><span class="pre">/sys/class/backlight/intel_backlight/brightness</span></code> which needs
automation to surfive across reboots).</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">scode/docs</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hardware</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ThinkPad T580 impressions (with Linux)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reading/index.html">Reading lists</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Hardware</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Hardware</a></li>
      <li>Next: <a href="../software/index.html" title="next chapter">Software</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, scode.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/hardware/thinkpad_t580_linux.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>